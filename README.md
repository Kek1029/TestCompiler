# ALua Specefication

## üß≠ –ì–ª–∞–≤–∞ 1. –í–≤–µ–¥–µ–Ω–∏–µ –≤ ALua

### –ß—Ç–æ —Ç–∞–∫–æ–µ ALua?

**ALua** ‚Äî —ç—Ç–æ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏ —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π, —Å—Ü–µ–Ω–∞—Ä–Ω—ã–π —è–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è, –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–π –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –≤–∞–ª–∏–¥–Ω–æ–≥–æ Lua-–∫–æ–¥–∞. –û–Ω —Å–æ—á–µ—Ç–∞–µ—Ç:

- —á–∏—Ç–∞–µ–º—ã–π –∏ –ª–∞–∫–æ–Ω–∏—á–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å
- —Å—Ç—Ä–æ–≥—É—é —Å–∏—Å—Ç–µ–º—É —Ç–∏–ø–æ–≤
- –∫–ª–∞—Å—Å—ã –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
- –∫–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø–∞, —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞–∑–±–æ—Ä –∏ —Ç–∏–ø–æ–≤—É—é –≤–∞–ª–∏–¥–∞—Ü–∏—é

ALua —Å–æ–∑–¥–∞–≤–∞–ª—Å—è –∫–∞–∫ —è–∑—ã–∫ —Å –±–∞–ª–∞–Ω—Å–æ–º –º–µ–∂–¥—É **–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å—é —Ç–∏–ø–æ–≤** –∏ **–ø—Ä–æ—Å—Ç–æ—Ç–æ–π –≤—ã—Ä–∞–∂–µ–Ω–∏–π**.

---

### –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç ALua

1. –¢—ã –ø–∏—à–µ—à—å –Ω–∞ ALua:
   ```alua
   var int: x = 42
   ```

2. –ö–æ–º–ø–∏–ª—è—Ç–æ—Ä ALua –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç —ç—Ç–æ –≤ Lua:
   ```lua
   defineVar("x", "int", 42)
   ```

3. –í —Ä–∞–Ω—Ç–∞–π–º–µ `defineVar(...)` –ø—Ä–æ–≤–µ—Ä–∏—Ç —Ç–∏–ø, –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –∏ –≤—Å—Ç–∞–≤–∏—Ç –≤ `__semantics`.

–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, —Ç—ã –ø–æ–ª—É—á–∞–µ—à—å **—Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å, –æ–±—ä–µ–∫—Ç–Ω—É—é –º–æ–¥–µ–ª—å –∏ –ª–æ–≥–∏–∫—É –¥–æ—Å—Ç—É–ø–∞**, –Ω–æ –∏—Å–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤—Å—ë —á–µ—Ä–µ–∑ Lua-–º–µ—Ö–∞–Ω–∏–∑–º—ã.

---

### –ß–µ–º ALua –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç Lua

| –§—É–Ω–∫—Ü–∏—è                   | Lua            | ALua                                  |
|---------------------------|----------------|----------------------------------------|
| –¢–∏–ø—ã                      | –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ   | *—Å—Ç—Ä–æ–≥–∞—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è*        |
| –ö–ª–∞—Å—Å—ã                    | –Ω–µ—Ç            | *–µ—Å—Ç—å (`class ...`) —Å –º–µ—Ç–æ–¥–∞–º–∏*        |
| –°—Ç—Ä—É–∫—Ç—É—Ä—ã                 | –Ω–µ—Ç            | *–µ—Å—Ç—å (`struct ...`) –±–µ–∑ –º–µ—Ç–æ–¥–æ–≤*      |
| –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤       | –≤—Ä—É—á–Ω—É—é        | *–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è (`checkArgs`)*         |
| –ó–∞—â–∏—Ç–∞ –¥–æ—Å—Ç—É–ø–∞ (`private`)| –Ω–µ—Ç            | *–µ—Å—Ç—å: `checkAccess`, `__access`*      |
| –°–µ–º–∞–Ω—Ç–∏–∫–∞ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è      | –±–µ–∑ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö | *—Å `__semantics`, `isOfType`, –∏ —Ç.–ø.*  |

---

### –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å ALua?

- –ö–æ–≥–¥–∞ —Ç—ã —Ö–æ—á–µ—à—å **—É–¥–æ–±–Ω–æ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ** –ø–∏—Å–∞—Ç—å –Ω–∞ Lua-–ø–æ–¥–æ–±–Ω–æ–º —è–∑—ã–∫–µ
- –ö–æ–≥–¥–∞ —Ç–µ–±–µ –Ω—É–∂–Ω–æ **OOP-–ø–æ–≤–µ–¥–µ–Ω–∏–µ**, –Ω–æ —Ç—ã –Ω–µ —Ö–æ—á–µ—à—å –≤—Ä—É—á–Ω—É—é –ø–∏—Å–∞—Ç—å –º–µ—Ç–∞—Ç–∞–±–ª–∏—Ü—ã
- –ö–æ–≥–¥–∞ —Ç—ã —Ö–æ—á–µ—à—å –ø—Ä–æ–≤–µ—Ä–∫—É —Ç–∏–ø–æ–≤ –ø—Ä—è–º–æ –Ω–∞ —ç—Ç–∞–ø–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- –ö–æ–≥–¥–∞ —Ç—ã —Å—Ç—Ä–æ–∏—à—å —Å–≤–æ–∏ DSL, –¥–≤–∏–∂–∫–∏, –∏–≥—Ä—ã –∏–ª–∏ —Ä–∞—Å—à–∏—Ä—è–µ–º—ã–µ —Å–∏—Å—Ç–µ–º—ã

---

### –ü—Ä–æ—Å—Ç–æ–π –ø—Ä–∏–º–µ—Ä ALua

```alua
fn int: double(int: x) {
    return x * 2
}

var int: result = double(10)
print(result)  // ‚Üí 20
```

---

# üßÆ –ì–ª–∞–≤–∞ 2. –¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö –≤ ALua

## –ß—Ç–æ —Ç–∞–∫–æ–µ —Ç–∏–ø?

**–¢–∏–ø –¥–∞–Ω–Ω—ã—Ö** ‚Äî —ç—Ç–æ –æ–ø–∏—Å–∞–Ω–∏–µ —Ç–æ–≥–æ, –∫–∞–∫–æ–≥–æ —Ä–æ–¥–∞ –∑–Ω–∞—á–µ–Ω–∏–µ –º–æ–∂–µ—Ç —Ö—Ä–∞–Ω–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è, –ø–∞—Ä–∞–º–µ—Ç—Ä —Ñ—É–Ω–∫—Ü–∏–∏ –∏–ª–∏ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å—Å—è –∏–∑ –Ω–µ—ë. –¢–∏–ø—ã –ø–æ–∑–≤–æ–ª—è—é—Ç:

- –ü—Ä–æ–≤–µ—Ä—è—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –∫–æ–¥–∞ –Ω–∞ —ç—Ç–∞–ø–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –∏–ª–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞—Ç—å –æ—à–∏–±–∫–∏, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏
- –ü–æ–º–æ–≥–∞—Ç—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º (–∏ —Ç–µ–±–µ —Å–∞–º–æ–º—É!) –ø–æ–Ω—è—Ç—å, –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–æ–≥—Ä–∞–º–º–∞

–í ALua **–≤—Å–µ —Ç–∏–ø—ã –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã** ‚Äî –æ–Ω–∏ —É–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –¥–ª—è –∫–∞–∂–¥–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –∏ —Ñ—É–Ω–∫—Ü–∏–∏.

---

## üî§ –ë–∞–∑–æ–≤—ã–µ —Ç–∏–ø—ã

| –¢–∏–ø      | –û–ø–∏—Å–∞–Ω–∏–µ                                      | –ü—Ä–∏–º–µ—Ä           |
|----------|-----------------------------------------------|------------------|
| `int`    | –¶–µ–ª–æ–µ —á–∏—Å–ª–æ                                   | `var int: x = 10`|
| `float`  | –ß–∏—Å–ª–æ —Å –ø–ª–∞–≤–∞—é—â–µ–π —Ç–æ—á–∫–æ–π                      | `var float: pi = 3.14` |
| `bool`   | –õ–æ–≥–∏—á–µ—Å–∫–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ: `true` –∏–ª–∏ `false`       | `var bool: ok = true` |
| `string` | –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å–∏–º–≤–æ–ª–æ–≤                   | `var string: name = "Max"` |
| `void`   | –ù–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ —Ñ—É–Ω–∫—Ü–∏—è—Ö) | `fn void: log(...)` |

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –í ALua –Ω–µ–ª—å–∑—è –º–µ–Ω—è—Ç—å —Ç–∏–ø –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –ø–æ—Å–ª–µ –µ—ë –æ–±—ä—è–≤–ª–µ–Ω–∏—è.

---

## üîÅ –ú–∞—Å—Å–∏–≤—ã

–ú–∞—Å—Å–∏–≤ (—Å–ø–∏—Å–æ–∫) –≤ ALua –æ–±–æ–∑–Ω–∞—á–∞–µ—Ç—Å—è –∫–∞–∫ `[T]`, –≥–¥–µ `T` ‚Äî —Ç–∏–ø —ç–ª–µ–º–µ–Ω—Ç–æ–≤:

```alua
var [int]: numbers = [1, 2, 3, 4]
var [string]: names = ["Alice", "Bob"]
```

- –¢–∏–ø –≤–Ω—É—Ç—Ä–∏ –º–∞—Å—Å–∏–≤–∞ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å **–æ–¥–∏–Ω–∞–∫–æ–≤—ã–º** –¥–ª—è –≤—Å–µ—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- –ü—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –≤—Å—Ç–∞–≤–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –¥—Ä—É–≥–æ–≥–æ —Ç–∏–ø–∞ ‚Äî –±—É–¥–µ—Ç –æ—à–∏–±–∫–∞

### ‚ùå –ü—Ä–∏–º–µ—Ä –æ—à–∏–±–∫–∏:

```alua
var [int]: bad = [1, true, 3] // ‚Üê –æ—à–∏–±–∫–∞: `true` ‚Äî —ç—Ç–æ bool
```

---

## üèóÔ∏è –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Ç–∏–ø—ã

–¢—ã –º–æ–∂–µ—à—å —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–≤–æ–∏ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ç–∏–ø—ã —Å –ø–æ–º–æ—â—å—é:

- `struct` ‚Äî –ø—Ä–æ—Å—Ç–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–µ–∑ –º–µ—Ç–æ–¥–æ–≤
- `class` ‚Äî –æ–±—ä–µ–∫—Ç —Å –º–µ—Ç–æ–¥–∞–º–∏ –∏ –ø–æ–ª—è–º–∏

–û–Ω–∏ —Ç–æ–∂–µ —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è —Ç–∏–ø–∞–º–∏:

```alua
struct Point {
    var int: x = 0
    var int: y = 0
}

var Point: p = Point { x = 3, y = 4 }  // ‚Üê —Ç–∏–ø Point
var [Point]: path = [p, Point { x = 5, y = 6 }]
```

---

## üì§ –í–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –∏ —Ç–∏–ø—ã —Ñ—É–Ω–∫—Ü–∏–π

–§—É–Ω–∫—Ü–∏–∏ –æ–±—è–∑–∞–Ω—ã —É–∫–∞–∑—ã–≤–∞—Ç—å, –∫–∞–∫–æ–π —Ç–∏–ø –æ–Ω–∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç:

```alua
fn int: add(int: a, int: b) {
    return a + b
}
```

- –¢–∏–ø `void` –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è –Ω–∏—á–µ–≥–æ –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç:

```alua
fn void: log(string: msg) {
    print("Log:", msg)
}
```

---

## üì¶ –¢–∏–ø—ã –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞—Ö –∏ –∫–ª–∞—Å—Å–∞—Ö

```alua
class Vec2 {
    var float: x = 0.0
    var float: y = 0.0

    fn float: length() {
        return math.sqrt(self.x * self.x + self.y * self.y)
    }
}
```

- –ó–¥–µ—Å—å `Vec2` —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Ç–∏–ø–æ–º
- –ï–≥–æ –ø–æ–ª—è (`x`, `y`) ‚Äî —Ç–∏–ø–∞ `float`
- –ú–µ—Ç–æ–¥ `length()` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `float`

---

## üîÅ –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å Lua

| Lua           | ALua                           |
|---------------|--------------------------------|
| `x = 42`      | `var int: x = 42`              |
| –Ω–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ç–∏–ø | *—Å—Ç—Ä–æ–≥–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è —Ç–∏–ø–æ–≤* |
| –æ—à–∏–±–∫–∏ –≤—Å–ø–ª—ã–≤–∞—é—Ç –ø–æ–∑–∂–µ | *–æ—à–∏–±–∫–∞ —Å—Ä–∞–∑—É –ø—Ä–∏ –ø—Ä–æ–≤–µ—Ä–∫–µ* |

---

## ‚úÖ –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–¥–∞—á–∞

–ü–æ–ø—Ä–æ–±—É–π –Ω–∞–ø–∏—Å–∞—Ç—å:

```alua
struct Book {
    var string: title = ""
    var int: pages = 0
}

var [Book]: shelf = [
    Book { title = "ALua", pages = 123 },
    Book { title = "Lua Guide", pages = 256 }
]

foreach shelf as Book: b {
    print("üìò", b.title, "-", b.pages, "pages")
}
```
---

# üß∞ –ì–ª–∞–≤–∞ 3. –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ ALua

## ü§î –ß—Ç–æ —Ç–∞–∫–æ–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è?

**–ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è** ‚Äî —ç—Ç–æ –∏–º—è, –ø–æ–¥ –∫–æ—Ç–æ—Ä—ã–º —Ö—Ä–∞–Ω—è—Ç—Å—è –¥–∞–Ω–Ω—ã–µ. –í ALua –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —è–≤–ª—è—é—Ç—Å—è —Å—Ç—Ä–æ–≥–æ —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏, —Ç–æ –µ—Å—Ç—å —Ç—ã –æ–±—è–∑–∞–Ω —è–≤–Ω–æ —É–∫–∞–∑–∞—Ç—å, –∫–∞–∫–æ–π —Ç–∏–ø –¥–∞–Ω–Ω—ã—Ö –æ–Ω–∏ —Å–æ–¥–µ—Ä–∂–∞—Ç. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç:

- –ü—Ä–æ–≤–µ—Ä—è—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –Ω–∞ —ç—Ç–∞–ø–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏
- –ó–∞—â–∏—â–∞—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—É –æ—Ç –æ—à–∏–±–æ–∫ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- –î–µ–ª–∞—Ç—å –∫–æ–¥ –ø–æ–Ω—è—Ç–Ω—ã–º –∏ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–º

---

## üè∑Ô∏è –°–∏–Ω—Ç–∞–∫—Å–∏—Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

```alua
var <–¢–∏–ø>: <–∏–º—è> = <–∑–Ω–∞—á–µ–Ω–∏–µ>
```

### –ü—Ä–∏–º–µ—Ä—ã:

```alua
var int: age = 30
var float: pi = 3.1415
var bool: flag = true
var string: name = "Max"
```

- **`var`** ‚Äî –∫–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ, –æ–±–æ–∑–Ω–∞—á–∞—é—â–µ–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é
- **`–¢–∏–ø`** ‚Äî —Å—Ç—Ä–æ–≥–æ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π
- **`–ò–º—è`** ‚Äî –ª—é–±–æ–µ –¥–æ–ø—É—Å—Ç–∏–º–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ
- **`=`** ‚Äî –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–æ
- **`–ó–Ω–∞—á–µ–Ω–∏–µ`** ‚Äî –¥–æ–ª–∂–Ω–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å —Ç–∏–ø—É

---

## üö´ –ë–µ–∑ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ ‚Äî –Ω–µ–ª—å–∑—è

–ù–µ–ª—å–∑—è –ø—Ä–æ—Å—Ç–æ –æ–±—ä—è–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –±–µ–∑ –∑–Ω–∞—á–µ–Ω–∏—è:

```alua
var int: count   // ‚ùå –æ—à–∏–±–∫–∞: –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
```

–ü—Ä–∞–≤–∏–ª—å–Ω–æ:

```alua
var int: count = 0
```

---

## üéØ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤

ALua –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ–±—ã —Ç–∏–ø –ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ–º–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞–ª –æ–±—ä—è–≤–ª–µ–Ω–Ω–æ–º—É —Ç–∏–ø—É. –ü—Ä–∏–º–µ—Ä—ã:

```alua
var int: x = 5          // ‚úÖ OK
var string: x = 5       // ‚ùå –æ—à–∏–±–∫–∞: 5 ‚Äî —ç—Ç–æ int, –∞ –Ω–µ string
```

### –û—à–∏–±–∫–∞ ‚Äî –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ç–∏–ø:

```alua
var float: distance = true  // ‚ùå –æ—à–∏–±–∫–∞: bool –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å float
```

---

## üìö –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å–ª–æ–∂–Ω—ã—Ö —Ç–∏–ø–æ–≤

–ú–æ–∂–Ω–æ –æ–±—ä—è–≤–ª—è—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–∏–ø–∞ –º–∞—Å—Å–∏–≤–æ–≤ –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä/–∫–ª–∞—Å—Å–æ–≤:

```alua
struct Point {
    var int: x = 0
    var int: y = 0
}

var Point: p = Point { x = 10, y = 20 }

var [int]: numbers = [1, 2, 3]
var [Point]: path = [p, Point { x = 30, y = 40 }]
```

- –í –º–∞—Å—Å–∏–≤–µ –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å **–æ–¥–∏–Ω–∞–∫–æ–≤–æ–≥–æ —Ç–∏–ø–∞**
- –ü—Ä–∏ –Ω–∞—Ä—É—à–µ–Ω–∏–∏ ‚Äî –±—É–¥–µ—Ç –æ—à–∏–±–∫–∞ –≤–æ –≤—Ä–µ–º—è –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è

---

## üß™ –ü—Ä–∏–º–µ—Ä—ã –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

### ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ:

```alua
var int: score = 100
var [string]: tags = ["ALua", "compiler", "tutorial"]

struct Vec2 {
    var float: x = 0.0
    var float: y = 0.0
}

var Vec2: v = Vec2 { x = 1.5, y = -3.0 }
```

### ‚ùå –û—à–∏–±–∫–∏:

```alua
var float: temp = "hot"       // –æ—à–∏–±–∫–∞: "hot" ‚Äî —ç—Ç–æ string
var string: s = 123           // –æ—à–∏–±–∫–∞: 123 ‚Äî —ç—Ç–æ int
var [int]: list = [1, "two"]  // –æ—à–∏–±–∫–∞: "two" ‚Äî —ç—Ç–æ string
```

---

## üîé –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–Ω—É—Ç—Ä–∏

–ö–æ–≥–¥–∞ —Ç—ã –ø–∏—à–µ—à—å:

```alua
var int: level = 1
```

ALua –Ω–∞ —ç—Ç–∞–ø–µ —Ç—Ä–∞–Ω—Å–ª—è—Ü–∏–∏ –ø—Ä–µ–≤—Ä–∞—Ç–∏—Ç —ç—Ç–æ –≤:

```lua
defineVar("level", "int", 1)
```

–ê –∑–∞—Ç–µ–º –≤ —Ä–∞–Ω—Ç–∞–π–º–µ –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è –ø—Ä–æ–≤–µ—Ä–∫–∞:

1. `"int"` ‚Üí —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç–∏–ø—É –∑–Ω–∞—á–µ–Ω–∏—è?
2. –ï—Å–ª–∏ –¥–∞ ‚Äî –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ –≥–ª–æ–±–∞–ª—å–Ω—É—é —Ç–∞–±–ª–∏—Ü—É –∏ `__semantics`
3. –ï—Å–ª–∏ –Ω–µ—Ç ‚Äî –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –æ—à–∏–±–∫–∞ —Ç–∏–ø–∞

---

## üéØ –í—ã–≤–æ–¥

–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ ‚Äî —ç—Ç–æ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã–µ –±–ª–æ–∫–∏ ALua-–ø—Ä–æ–≥—Ä–∞–º–º. –°–ª–µ–¥–∏ –∑–∞ —Ç–µ–º, —á—Ç–æ–±—ã:

- –≤—Å–µ–≥–¥–∞ —É–∫–∞–∑—ã–≤–∞—Ç—å —Ç–∏–ø
- –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏–∏
- –Ω–µ –ø—Ä–∏—Å–≤–∞–∏–≤–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –¥—Ä—É–≥–æ–≥–æ —Ç–∏–ø–∞
- –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Ç–∏–ø—ã, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ –≤—ã—Ä–∞–∑–∏—Ç—å —Å–ª–æ–∂–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É

---

# üß† –ì–ª–∞–≤–∞ 4. –§—É–Ω–∫—Ü–∏–∏ –≤ ALua

## üîß –ß—Ç–æ —Ç–∞–∫–æ–µ —Ñ—É–Ω–∫—Ü–∏—è?

–§—É–Ω–∫—Ü–∏—è ‚Äî —ç—Ç–æ **–Ω–∞–±–æ—Ä –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π**, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –≤—ã–∑—ã–≤–∞—Ç—å –º–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω–æ. –û–Ω–∞ –º–æ–∂–µ—Ç:

- –ø—Ä–∏–Ω–∏–º–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (–≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ)
- –≤—ã–ø–æ–ª–Ω—è—Ç—å –≤—ã—á–∏—Å–ª–µ–Ω–∏—è
- –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å –¥–µ–π—Å—Ç–≤–∏—è

---

## üè∑Ô∏è –°–∏–Ω—Ç–∞–∫—Å–∏—Å —Ñ—É–Ω–∫—Ü–∏–∏

```alua
fn <ReturnType>: <FunctionName>(<ParameterList>) {
    // —Ç–µ–ª–æ —Ñ—É–Ω–∫—Ü–∏–∏
}
```

- `fn` ‚Äî –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –∫–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ
- `ReturnType` ‚Äî —Ç–∏–ø –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è (`int`, `float`, `void`, –∏ —Ç.–¥.)
- `FunctionName` ‚Äî –∏–º—è —Ñ—É–Ω–∫—Ü–∏–∏
- `ParameterList` ‚Äî —Å–ø–∏—Å–æ–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Å –∏—Ö —Ç–∏–ø–∞–º–∏

---

### ‚úÖ –ü—Ä–∏–º–µ—Ä 1: –ø—Ä–æ—Å—Ç–∞—è —Ñ—É–Ω–∫—Ü–∏—è

```alua
fn int: square(int: x) {
    return x * x
}

var int: n = square(5)  // ‚Üí 25
```

---

### ‚úÖ –ü—Ä–∏–º–µ—Ä 2: —Ñ—É–Ω–∫—Ü–∏—è –±–µ–∑ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è

```alua
fn void: greet(string: name) {
    print("Hello,", name)
}

greet("–ú–∞–∫—Å–∏–º")  // ‚Üí Hello, –ú–∞–∫—Å–∏–º
```

---

### üìå –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞:

1. –ö–∞–∂–¥—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å –∏–º—è –∏ —Ç–∏–ø:

```alua
fn int: add(int: a, int: b) { return a + b }  // ‚úÖ
```

2. –§—É–Ω–∫—Ü–∏—è **–¥–æ–ª–∂–Ω–∞ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ**, –µ—Å–ª–∏ –Ω–µ `void`:

```alua
fn int: fail(int: x) {
    // return –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç ‚Äî ‚ùå –æ—à–∏–±–∫–∞
}
```

---

## ‚öôÔ∏è –ö–∞–∫ –≤—ã–∑—ã–≤–∞—é—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏–∏

–§—É–Ω–∫—Ü–∏–∏ ALua –≤—ã–∑—ã–≤–∞—é—Ç—Å—è —Ç–æ—á–Ω–æ —Ç–∞–∫ –∂–µ, –∫–∞–∫ –≤ Lua –∏–ª–∏ –¥—Ä—É–≥–∏—Ö —è–∑—ã–∫–∞—Ö:

```alua
var int: result = add(3, 4)
```

- –ê—Ä–≥—É–º–µ–Ω—Ç—ã –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è **–ø–æ –ø–æ—Ä—è–¥–∫—É**
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –¥–æ–ª–∂–Ω–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- –¢–∏–ø—ã –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –¥–æ–ª–∂–Ω—ã —Å–æ–≤–ø–∞–¥–∞—Ç—å

---

## üìä –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —Ä–∞–±–æ—Ç–∞ (semantics)

ALua –Ω–µ –ø—Ä–æ—Å—Ç–æ –≤—ã–∑—ã–≤–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é. –û–Ω–∞ —Å–æ–∑–¥–∞—ë—Ç —Å–µ–º–∞–Ω—Ç–∏–∫—É:

```lua
__semantics["add"] = {
  kind = "function",
  returnType = "int",
  args = {
    { name = "a", type = "int" },
    { name = "b", type = "int" }
  }
}
```

–ò –ø—Ä–∏ –≤—ã–∑–æ–≤–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:

```lua
checkArgs(__semantics["add"], { arg1, arg2 })
```

üìå –≠—Ç–æ –∑–Ω–∞—á–∏—Ç: –µ—Å–ª–∏ —Ç—ã –≤—ã–∑–æ–≤–µ—à—å `add("hi", true)`, —Ç–æ –ø–æ–ª—É—á–∏—à—å —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ —Ç–∏–ø–æ–≤ –µ—â—ë –¥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ç–µ–ª–∞ —Ñ—É–Ω–∫—Ü–∏–∏.

---

## üß™ –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –ø—Ä–∏–º–µ—Ä

```alua
fn bool: isEven(int: n) {
    return (n % 2) == 0
}

for (var int: i = 1, i <= 5, i = i + 1) {
    if (isEven(i)) {
        print(i, "—á–µ—Ç–Ω–æ–µ")
    } else {
        print(i, "–Ω–µ—á–µ—Ç–Ω–æ–µ")
    }
}
```

**–í—ã–≤–æ–¥:**
```
1 –Ω–µ—á–µ—Ç–Ω–æ–µ
2 —á–µ—Ç–Ω–æ–µ
3 –Ω–µ—á–µ—Ç–Ω–æ–µ
4 —á–µ—Ç–Ω–æ–µ
5 –Ω–µ—á–µ—Ç–Ω–æ–µ
```

---

## ‚ùó –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏

| –û—à–∏–±–∫–∞                              | –ü—Ä–∏—á–∏–Ω–∞                                       |
|------------------------------------|-----------------------------------------------|
| `Expected 2 arguments, got 1`      | –ü–µ—Ä–µ–¥–∞–Ω –æ–¥–∏–Ω –∞—Ä–≥—É–º–µ–Ω—Ç –≤–º–µ—Å—Ç–æ –¥–≤—É—Ö             |
| `Expected type 'float', got 'int'`| –ù–µ—Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ —Ç–∏–ø–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–∞                   |
| `Missing return statement`         | –§—É–Ω–∫—Ü–∏—è –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ, —Ö–æ—Ç—è –¥–æ–ª–∂–Ω–∞   |

---

## üéì –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –ø—Ä–∏—ë–º—ã

- –¢—ã –º–æ–∂–µ—à—å –≤—ã–∑—ã–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –≤–Ω—É—Ç—Ä–∏ –¥—Ä—É–≥–æ–π:

```alua
fn int: doubleSum(int: a, int: b) {
    return square(a + b)  // –µ—Å–ª–∏ –µ—Å—Ç—å square()
}
```

- –ú–æ–∂–Ω–æ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Ç–∏–ø—ã:

```alua
struct Point {
    var int: x = 0
    var int: y = 0
}

fn Point: origin() {
    return Point { x = 0, y = 0 }
}
```

---

## ‚úÖ –†–µ–∑—é–º–µ

–§—É–Ω–∫—Ü–∏–∏ –≤ ALua:

- –≤—Å–µ–≥–¥–∞ –æ–±—ä—è–≤–ª—è—é—Ç—Å—è —á–µ—Ä–µ–∑ `fn`
- –æ–±—è–∑–∞–Ω—ã –∏–º–µ—Ç—å —Ç–∏–ø –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è
- –≤—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è—é—Ç —Ç–∏–ø—ã –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤
- –º–æ–≥—É—Ç –±—ã—Ç—å –ø—Ä–æ—Ü–µ–¥—É—Ä–Ω—ã–º–∏ (`void`) –∏–ª–∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—â–∏–º–∏ –∑–Ω–∞—á–µ–Ω–∏–µ
- –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç `__semantics` –∏ `checkArgs` –∑–∞ –∫—É–ª–∏—Å–∞–º–∏

---
# üß± –ì–ª–∞–≤–∞ 5. –°—Ç—Ä—É–∫—Ç—É—Ä—ã (struct)

## üß≠ –ß—Ç–æ —Ç–∞–∫–æ–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞?

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞** ‚Äî —ç—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —Ç–∏–ø –¥–∞–Ω–Ω—ã—Ö, –∫–æ—Ç–æ—Ä—ã–π –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ–ª–µ–π –ø–æ–¥ –æ–¥–Ω–∏–º –∏–º–µ–Ω–µ–º. –û–Ω–∞ –ø–æ—Ö–æ–∂–∞ –Ω–∞ ‚Äú–∫–ª–∞—Å—Å –±–µ–∑ –º–µ—Ç–æ–¥–æ–≤‚Äù.

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ–ø–∏—Å–∞–Ω–∏—è –ª–æ–≥–∏—á–µ—Å–∫–∏—Ö –æ–±—ä–µ–∫—Ç–æ–≤, —Å–æ—Å—Ç–æ—è—â–∏—Ö –∏–∑ –¥–∞–Ω–Ω—ã—Ö.

---

## üîß –°–∏–Ω—Ç–∞–∫—Å–∏—Å –æ–±—ä—è–≤–ª–µ–Ω–∏—è

```alua
struct <–ò–º—è> {
    var <–¢–∏–ø>: <–ò–º—è–ü–æ–ª—è> = <–ó–Ω–∞—á–µ–Ω–∏–µ>
    ...
}
```

### –ü—Ä–∏–º–µ—Ä:

```alua
struct Point {
    var int: x = 0
    var int: y = 0
}
```

- –ö–∞–∂–¥–æ–µ –ø–æ–ª–µ –¥–æ–ª–∂–Ω–æ –∏–º–µ—Ç—å —Ç–∏–ø –∏ –Ω–∞—á–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
- `struct` –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –º–µ—Ç–æ–¥–æ–≤
- –ü–æ–ª—è –¥–æ—Å—Ç—É–ø–Ω—ã –ø–æ —Ç–æ—á–∫–µ: `p.x`, `p.y`

---

## üõ†Ô∏è –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä

–ß—Ç–æ–±—ã —Å–æ–∑–¥–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ª–∏—Ç–µ—Ä–∞–ª:

```alua
var Point: p = Point { x = 5, y = 7 }
```

- –ò–º—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã ‚Äî –∫–∞–∫ —Ñ—É–Ω–∫—Ü–∏—è
- –í —Å–∫–æ–±–∫–∞—Ö ‚Äî –Ω–∞–±–æ—Ä `–∫–ª—é—á = –∑–Ω–∞—á–µ–Ω–∏–µ`

---

## üéØ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä

```alua
struct Size {
    var float: width = 0.0
    var float: height = 0.0
}

var Size: screen = Size { width = 1920.0, height = 1080.0 }

print(screen.width)   // ‚Üí 1920.0
print(screen.height)  // ‚Üí 1080.0
```

---

## üìõ –û—à–∏–±–∫–∏

| –û—à–∏–±–∫–∞                              | –ü—Ä–∏—á–∏–Ω–∞                              |
|------------------------------------|--------------------------------------|
| `field not declared`               | –£–∫–∞–∑–∞–Ω–æ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–µ –ø–æ–ª–µ          |
| `Expected type X, got Y`           | –ù–µ—Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ —Ç–∏–ø–∞ –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏  |
| `field missing in constructor`     | –ù–µ –ø–µ—Ä–µ–¥–∞–Ω–æ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ (–µ—Å–ª–∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤–∫–ª—é—á–µ–Ω–∞) |

---

## üîÅ –°—Ç—Ä—É–∫—Ç—É—Ä—ã –∏ –º–∞—Å—Å–∏–≤—ã

```alua
struct Point {
    var int: x = 0
    var int: y = 0
}

var [Point]: path = [
    Point { x = 1, y = 2 },
    Point { x = 3, y = 4 }
]

foreach path as Point: p {
    print(p.x, p.y)
}
```

---

## üîÑ –°—Ç—Ä—É–∫—Ç—É—Ä—ã –≤–Ω—É—Ç—Ä–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä

```alua
struct Position {
    var int: x = 0
    var int: y = 0
}

struct Entity {
    var string: name = ""
    var Position: pos = Position { x = 0, y = 0 }
}

var Entity: e = Entity {
    name = "Enemy",
    pos = Position { x = 10, y = 20 }
}

print(e.name)
print(e.pos.x)
```

---

## ‚úÖ –í—ã–≤–æ–¥

- –°—Ç—Ä—É–∫—Ç—É—Ä–∞ ‚Äî —Å–ø–æ—Å–æ–± –æ–±—ä–µ–¥–∏–Ω–∏—Ç—å –ø–æ–ª—è
- –ë–µ–∑ –º–µ—Ç–æ–¥–æ–≤
- –ü–æ–ª—è –¥–æ—Å—Ç—É–ø–Ω—ã –Ω–∞–ø—Ä—è–º—É—é
- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ `{ key = value }`
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç—å

---

# üß© –ì–ª–∞–≤–∞ 6. –ö–ª–∞—Å—Å—ã –∏ –º–µ—Ç–æ–¥—ã

## üì¶ –ß—Ç–æ —Ç–∞–∫–æ–µ –∫–ª–∞—Å—Å?

**–ö–ª–∞—Å—Å** –≤ ALua ‚Äî —ç—Ç–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ —Ç–∏–ø–∞, –∫–æ—Ç–æ—Ä—ã–π –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç:

- –¥–∞–Ω–Ω—ã–µ (–ø–æ–ª—è);
- –ø–æ–≤–µ–¥–µ–Ω–∏–µ (–º–µ—Ç–æ–¥—ã).

–û–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è **–æ–±—ä–µ–∫—Ç–æ–≤** —Å–æ –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π. –ö–ª–∞—Å—Å ‚Äî –∫–∞–∫ —à–∞–±–ª–æ–Ω –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤.

---

## üß∞ –°–∏–Ω—Ç–∞–∫—Å–∏—Å –∫–ª–∞—Å—Å–∞

```alua
class <–ò–º—è–ö–ª–∞—Å—Å–∞> {
    var <–¢–∏–ø>: <–ø–æ–ª–µ> = <–∑–Ω–∞—á–µ–Ω–∏–µ>
    fn <–¢–∏–ø>: <–º–µ—Ç–æ–¥>(<–ü–∞—Ä–∞–º–µ—Ç—Ä—ã>) {
        // —Ç–µ–ª–æ –º–µ—Ç–æ–¥–∞
    }
}
```

---

### ‚úÖ –ü—Ä–∏–º–µ—Ä: –ö–ª–∞—Å—Å `Vec2`

```alua
class Vec2 {
    var float: x = 0.0
    var float: y = 0.0

    fn void: move(float: dx, float: dy) {
        self.x = self.x + dx
        self.y = self.y + dy
    }

    fn string: toString() {
        return string(self.x) .. " " .. string(self.y)
    }
}
```

–ó–¥–µ—Å—å:

- `x`, `y` ‚Äî –ø–æ–ª—è –∫–ª–∞—Å—Å–∞ —Ç–∏–ø–∞ `float`;
- `move(...)` ‚Äî –º–µ—Ç–æ–¥, –∏–∑–º–µ–Ω—è—é—â–∏–π —Å–æ—Å—Ç–æ—è–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞;
- `toString()` ‚Äî –º–µ—Ç–æ–¥, –≤–æ–∑–≤—Ä–∞—â–∞—é—â–∏–π —Å—Ç—Ä–æ–∫–æ–≤–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ.

---

## üß¨ –ß—Ç–æ —Ç–∞–∫–æ–µ self?

–í–Ω—É—Ç—Ä–∏ –º–µ—Ç–æ–¥–æ–≤ —Ç—ã –º–æ–∂–µ—à—å –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∫ —Ç–µ–∫—É—â–µ–º—É –æ–±—ä–µ–∫—Ç—É —á–µ—Ä–µ–∑ **`self`**:

```alua
self.x = self.x + dx
```

`self` ‚Äî —ç—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–¥–∞—é—â–∞—è—Å—è –ø–µ—Ä–≤—ã–º –∞—Ä–≥—É–º–µ–Ω—Ç–æ–º –≤–æ –≤—Å–µ –º–µ—Ç–æ–¥—ã –∫–ª–∞—Å—Å–∞.

---

## ‚öíÔ∏è –°–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞

```alua
var Vec2: v = Vec2 { x = 3.0, y = 4.0 }
```

ALua –Ω–∞ —ç—Ç–∞–ø–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç —ç—Ç–æ –≤:

```lua
Vec2.new({ x = 3.0, y = 4.0 })
```

–í–∞–∂–Ω–æ: –ø–æ–ª—è, —É–∫–∞–∑–∞–Ω–Ω—ã–µ –≤ —Ñ–∏–≥—É—Ä–Ω—ã—Ö —Å–∫–æ–±–∫–∞—Ö, –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∏ –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –≤ –æ–±—ä–µ–∫—Ç.

---

## üß™ –í—ã–∑–æ–≤ –º–µ—Ç–æ–¥–∞

```alua
v:move(1.0, -2.0)
print(v:toString())  // ‚Üí "4.0 2.0"
```

–°–∏–Ω—Ç–∞–∫—Å–∏—Å `v:method(...)` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥—Å—Ç–∞–≤–ª—è–µ—Ç `self` –≤ –º–µ—Ç–æ–¥.

---

## üìö –ï—â—ë –æ–¥–∏–Ω –ø—Ä–∏–º–µ—Ä: `Counter`

```alua
class Counter {
    var int: count = 0

    fn void: increment() {
        self.count = self.count + 1
    }

    fn int: get() {
        return self.count
    }
}

var Counter: c = Counter {}
c:increment()
print(c:get())  // ‚Üí 1
```

---

## ‚úÖ –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

ALua –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–ª–∞—Å—Å–∞ —Ñ—É–Ω–∫—Ü–∏—é:

```lua
function ClassName.new(init)
```

–û–Ω–∞:

- —Å–æ–∑–¥–∞—ë—Ç —Ç–∞–±–ª–∏—Ü—É `self`;
- –∫–æ–ø–∏—Ä—É–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ `init` –≤ –ø–æ–ª—è;
- –ø—Ä–∏–∫—Ä–µ–ø–ª—è–µ—Ç –º–µ—Ç–æ–¥—ã.

–ï—Å–ª–∏ —Ç—ã –≤—ã–∑—ã–≤–∞–µ—à—å `Vec2 { x = 1.0 }`, —ç—Ç–∞ —Ç–∞–±–ª–∏—Ü–∞ `init = { x = 1.0 }` –ø–æ–ø–∞–¥—ë—Ç –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä, –∫–æ—Ç–æ—Ä—ã–π –≤—ã—Å—Ç–∞–≤–∏—Ç –ø–æ–ª–µ `self.x`.

---

## üìè –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –∏ —Ç–∏–ø–æ–≤

- –í—ã–∑–æ–≤ `v:move(...)` –ø—Ä–æ—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ `checkArgs(...)`
- –ï—Å–ª–∏ —É–∫–∞–∑–∞–Ω–æ –Ω–µ–≤–µ—Ä–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–ª–∏ —Ç–∏–ø –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ ‚Äî –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –æ—à–∏–±–∫–∞.

---

## üîí –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –∏ –∑–∞—â–∏—Ç–∞

–£ –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—è –∏ –º–µ—Ç–æ–¥–∞ –≤ ALua –µ—Å—Ç—å —É—Ä–æ–≤–µ–Ω—å –¥–æ—Å—Ç—É–ø–∞ (`public`, `private`, `protected`), –≤ `__access`, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ –≤ –±—É–¥—É—â–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –∑–∞—â–∏—Ç—ã:

```lua
checkAccess(self, "fieldName", "public")
```

–°–µ–π—á–∞—Å –≤—Å–µ –ø–æ–ª—è –∏ –º–µ—Ç–æ–¥—ã ‚Äî –ø—É–±–ª–∏—á–Ω—ã–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.

---

## ‚ùå –û—à–∏–±–∫–∏

| –û—à–∏–±–∫–∞                      | –ü—Ä–∏—á–∏–Ω–∞                                       |
|----------------------------|-----------------------------------------------|
| `Expected 2 args, got 1`   | –ú–µ—Ç–æ–¥ –≤—ã–∑–≤–∞–Ω —Å –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–º —á–∏—Å–ª–æ–º –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ |
| `self is nil`              | –ú–µ—Ç–æ–¥ –≤—ã–∑–≤–∞–Ω –Ω–µ –Ω–∞ –æ–±—ä–µ–∫—Ç–µ                    |
| `field not declared`       | –ü–æ–ø—ã—Ç–∫–∞ –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è –∫ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º—É –ø–æ–ª—é     |
| `Access violation`         | –ù–∞—Ä—É—à–µ–Ω–∏–µ —É—Ä–æ–≤–Ω—è –¥–æ—Å—Ç—É–ø–∞                      |

---

## üß† –í–ª–æ–∂–µ–Ω–Ω—ã–µ –∫–ª–∞—Å—Å—ã –∏ –ø–æ–ª—è

```alua
class Player {
    var string: name = ""
    var Vec2: position = Vec2 { x = 0.0, y = 0.0 }

    fn void: move(float: dx, float: dy) {
        self.position:move(dx, dy)
    }
}
```

---

## ‚úÖ –í—ã–≤–æ–¥

–ö–ª–∞—Å—Å—ã –≤ ALua:

- –æ–±—ä–µ–¥–∏–Ω—è—é—Ç –ø–æ–ª—è –∏ –º–µ—Ç–æ–¥—ã;
- –∏–º–µ—é—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π `self`;
- –ø–æ–∑–≤–æ–ª—è—é—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –æ–±—ä–µ–∫—Ç—ã —Å –ª–æ–≥–∏–∫–æ–π;
- –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç —Å—Ç—Ä–æ–≥–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –∏ —Ç–∏–ø–æ–≤;
- –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç `__semantics`, `checkArgs`, `checkAccess`.

---

# üì• –ì–ª–∞–≤–∞ 7. –ú–∞—Å—Å–∏–≤—ã –≤ ALua

## üì¶ –ß—Ç–æ —Ç–∞–∫–æ–µ –º–∞—Å—Å–∏–≤?

**–ú–∞—Å—Å–∏–≤** –≤ ALua ‚Äî —ç—Ç–æ —É–ø–æ—Ä—è–¥–æ—á–µ–Ω–Ω–∞—è –∫–æ–ª–ª–µ–∫—Ü–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –æ–¥–Ω–æ–≥–æ –∏ —Ç–æ–≥–æ –∂–µ —Ç–∏–ø–∞.

–ü—Ä–∏–º–µ—Ä—ã:

```alua
var [int]: nums = [1, 2, 3]
var [string]: words = ["foo", "bar"]
```

–ú–∞—Å—Å–∏–≤ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ö—Ä–∞–Ω–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∑–Ω–∞—á–µ–Ω–∏–π –≤ –æ–¥–Ω–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –∏ —É–¥–æ–±–Ω–æ –ø–µ—Ä–µ–±–∏—Ä–∞—Ç—å –∏—Ö —Å –ø–æ–º–æ—â—å—é `foreach` –∏–ª–∏ –¥—Ä—É–≥–∏—Ö —Ü–∏–∫–ª–æ–≤.

---

## üî† –°–∏–Ω—Ç–∞–∫—Å–∏—Å –æ–±—ä—è–≤–ª–µ–Ω–∏—è

```alua
var [<–¢–∏–ø>]: <–∏–º—è> = [–∑–Ω–∞—á–µ–Ω–∏–µ1, –∑–Ω–∞—á–µ–Ω–∏–µ2, ...]
```

–¢–∏–ø —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –≤ –∫–≤–∞–¥—Ä–∞—Ç–Ω—ã—Ö —Å–∫–æ–±–∫–∞—Ö (`[int]`, `[float]`, `[Point]` –∏ —Ç.–¥.)

### –ü—Ä–∏–º–µ—Ä—ã:

```alua
var [int]: numbers = [1, 2, 3, 4]
var [string]: names = ["Alice", "Bob"]
```

–í—Å–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤–Ω—É—Ç—Ä–∏ –º–∞—Å—Å–∏–≤–∞ **–æ–±—è–∑–∞–Ω—ã –±—ã—Ç—å –æ–¥–Ω–æ–≥–æ —Ç–∏–ø–∞** ‚Äî –∏–Ω–∞—á–µ –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç –æ—à–∏–±–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.

---

## ‚ùå –û—à–∏–±–∫–∏ —Ç–∏–ø–æ–≤

```alua
var [int]: bad = [1, "two", 3]   // –æ—à–∏–±–∫–∞: "two" ‚Äî —ç—Ç–æ string
var [bool]: flags = [true, 1]    // –æ—à–∏–±–∫–∞: 1 ‚Äî —ç—Ç–æ int, –Ω–µ bool
```

---

## üß¨ –ú–∞—Å—Å–∏–≤—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Ç–∏–ø–æ–≤

```alua
struct Point {
    var int: x = 0
    var int: y = 0
}

var [Point]: path = [
    Point { x = 1, y = 2 },
    Point { x = 3, y = 4 }
]
```

–¢—ã –º–æ–∂–µ—à—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `foreach` –¥–ª—è –ø–µ—Ä–µ–±–æ—Ä–∞:

```alua
foreach path as Point: p {
    print(p.x, p.y)
}
```

---

## üîÅ –ò—Ç–µ—Ä–∞—Ü–∏—è —Å foreach

```alua
var [int]: nums = [10, 20, 30]

foreach nums as int: n {
    print("–ß–∏—Å–ª–æ:", n)
}
```

–°—Ö–µ–º–∞:

```alua
foreach <–º–∞—Å—Å–∏–≤> as <–¢–∏–ø>: <–∏–º—è> {
    // —Ç–µ–ª–æ —Ü–∏–∫–ª–∞
}
```

---

## üîÑ –ú–∞—Å—Å–∏–≤ –∫–ª–∞—Å—Å–æ–≤ –∏ –≤—ã–∑–æ–≤—ã –º–µ—Ç–æ–¥–æ–≤

```alua
class Vec2 {
    var float: x = 0.0
    var float: y = 0.0
    fn void: move(float: dx, float: dy) {
        self.x = self.x + dx
        self.y = self.y + dy
    }
}

var [Vec2]: points = [
    Vec2 { x = 0.0, y = 0.0 },
    Vec2 { x = 5.0, y = 5.0 }
]

foreach points as Vec2: p {
    p:move(1.0, -1.0)
}
```

---

## üß† –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Ä–∞–Ω—Ç–∞–π–º–µ

–í –º–æ–º–µ–Ω—Ç –æ–±—ä—è–≤–ª–µ–Ω–∏—è –º–∞—Å—Å–∏–≤–∞:

```lua
defineVar("list", "[int]", {1, 2, 3})
```

–ö–∞–∂–¥—ã–π —ç–ª–µ–º–µ–Ω—Ç –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç–∏–ø—É –º–∞—Å—Å–∏–≤–∞:

```lua
checkArgs({ args = {{type = "int"}} }, {1})
```

---

## üßπ –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

- `breakLoop()` ‚Äî –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ `foreach`
- `continueLoop()` ‚Äî –ø—Ä–æ–ø—É—Å–∫ —Ç–µ–∫—É—â–µ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏

```alua
foreach list as int: x {
    if (x == 0) { continue }
    if (x < 0) { break }
    print(x)
}
```

---

## üß™ –£–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ

```alua
struct Item {
    var string: name = ""
    var int: count = 0
}

var [Item]: inventory = [
    Item { name = "Potion", count = 3 },
    Item { name = "Sword", count = 1 }
]

foreach inventory as Item: i {
    print(i.name, "x", i.count)
}
```

---

## ‚úÖ –í—ã–≤–æ–¥

- –ú–∞—Å—Å–∏–≤—ã ALua ‚Äî —ç—Ç–æ —Å—Ç—Ä–æ–≥–æ —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–ø–∏—Å–∫–∏
- –≠–ª–µ–º–µ–Ω—Ç—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –æ–¥–Ω–æ–≥–æ —Ç–∏–ø–∞
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∏ –∫–ª–∞—Å—Å—ã
- –ü—Ä–µ–∫—Ä–∞—Å–Ω–æ —Ä–∞–±–æ—Ç–∞—é—Ç —Å `foreach`
- –ë–µ–∑–æ–ø–∞—Å–Ω—ã –±–ª–∞–≥–æ–¥–∞—Ä—è `checkArgs` –∏ `isOfType`

---
# üîÅ –ì–ª–∞–≤–∞ 8. –¶–∏–∫–ª—ã –≤ ALua

## üîÑ –ó–∞—á–µ–º –Ω—É–∂–Ω—ã —Ü–∏–∫–ª—ã?

–¶–∏–∫–ª—ã –ø–æ–∑–≤–æ–ª—è—é—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å –æ–¥–Ω—É –∏ —Ç—É –∂–µ –æ–ø–µ—Ä–∞—Ü–∏—é –º–Ω–æ–≥–æ —Ä–∞–∑. –≠—Ç–æ –æ—Å–æ–±–µ–Ω–Ω–æ –ø–æ–ª–µ–∑–Ω–æ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –º–∞—Å—Å–∏–≤–∞–º–∏, —Å—á–µ—Ç—á–∏–∫–∞–º–∏ –∏ –ø–æ–≤—Ç–æ—Ä—è—é—â–∏–º–∏—Å—è –¥–µ–π—Å—Ç–≤–∏—è–º–∏.

–í ALua –µ—Å—Ç—å —Ç—Ä–∏ —Ç–∏–ø–∞ —Ü–∏–∫–ª–æ–≤:

- `while`
- `for`
- `foreach`

–¢–∞–∫–∂–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è —É–ø—Ä–∞–≤–ª—è—é—â–∏–µ –∫–æ–º–∞–Ω–¥—ã `break` –∏ `continue`.

---

## üîÅ –¶–∏–∫–ª while

–¶–∏–∫–ª `while` –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è, –ø–æ–∫–∞ —É—Å–ª–æ–≤–∏–µ –∏—Å—Ç–∏–Ω–Ω–æ.

```alua
var int: i = 0
while (i < 3) {
    print("i =", i)
    i = i + 1
}
```

üîπ –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å–ª–æ–≤–∏—è –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–µ—Ä–µ–¥ –∫–∞–∂–¥–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–µ–π.

---

## üîÇ –¶–∏–∫–ª for

–¶–∏–∫–ª `for` —Å–æ–¥–µ—Ä–∂–∏—Ç –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é, —É—Å–ª–æ–≤–∏–µ –∏ —à–∞–≥.

```alua
for (var int: i = 1, i <= 5, i = i + 1) {
    print(i)
}
```

–°–∏–Ω—Ç–∞–∫—Å–∏—Å:

```alua
for (var <—Ç–∏–ø>: <–ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è> = <—Å—Ç–∞—Ä—Ç>, <—É—Å–ª–æ–≤–∏–µ>, <—à–∞–≥>) {
    ...
}
```

üîπ –†–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –æ–±—ã—á–Ω—ã–π —Å—á–µ—Ç–Ω—ã–π —Ü–∏–∫–ª.

---

## üîÅ –¶–∏–∫–ª foreach

–°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π —Ü–∏–∫–ª –¥–ª—è –ø–µ—Ä–µ–±–æ—Ä–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –º–∞—Å—Å–∏–≤–∞:

```alua
var [string]: fruits = ["apple", "banana", "cherry"]

foreach fruits as string: f {
    print("üçì", f)
}
```

–°–∏–Ω—Ç–∞–∫—Å–∏—Å:

```alua
foreach <–º–∞—Å—Å–∏–≤> as <—Ç–∏–ø>: <–ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è> {
    ...
}
```

---

## ‚õî –ö–æ–º–∞–Ω–¥—ã break –∏ continue

### `break` ‚Äî –∑–∞–≤–µ—Ä—à–∞–µ—Ç —Ü–∏–∫–ª –¥–æ—Å—Ä–æ—á–Ω–æ:

```alua
foreach numbers as int: n {
    if (n == 0) {
        break
    }
    print(n)
}
```

### `continue` ‚Äî –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç —Ç–µ–∫—É—â—É—é –∏—Ç–µ—Ä–∞—Ü–∏—é:

```alua
foreach numbers as int: n {
    if (n % 2 == 0) {
        continue
    }
    print(n)  // —Ç–æ–ª—å–∫–æ –Ω–µ—á—ë—Ç–Ω—ã–µ
}
```

---

## üß™ –ü—Ä–∏–º–µ—Ä —Å –≤–ª–æ–∂–µ–Ω–Ω—ã–º–∏ —Ü–∏–∫–ª–∞–º–∏

```alua
for (var int: i = 0, i < 3, i = i + 1) {
    for (var int: j = 0, j < 3, j = j + 1) {
        print("i =", i, ", j =", j)
    }
}
```

---

## üß† –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–Ω—É—Ç—Ä–∏

–í —Ä–∞–Ω—Ç–∞–π–º–µ `whileDo(...)`, `forLoop(...)` –∏ `foreachDo(...)` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–æ—Ä–∞—á–∏–≤–∞—é—Ç —Ç–µ–ª–æ —Ü–∏–∫–ª–∞:

- –ª–æ–≤—è—Ç `__BREAK__` –∏ `__CONTINUE__`
- –∑–∞—â–∏—â–∞—é—Ç –æ—Ç –æ—à–∏–±–æ–∫
- –≤—ã–ø–æ–ª–Ω—è—é—Ç –∑–∞–¥–∞–Ω–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è

---

## üß™ –£–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ

```alua
var [int]: nums = [5, 4, 3, 0, 2]

foreach nums as int: x {
    if (x == 0) { break }
    print("–û–±—Ä–∞–±–∞—Ç—ã–≤–∞—é:", x)
}
```

---

## ‚úÖ –í—ã–≤–æ–¥

- –¶–∏–∫–ª—ã –≤ ALua –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç –≥–∏–±–∫–∏–µ —à–∞–±–ª–æ–Ω—ã –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è
- `while` ‚Äî –ø–æ–∫–∞ —É—Å–ª–æ–≤–∏–µ –∏—Å—Ç–∏–Ω–Ω–æ
- `for` ‚Äî —Å —à–∞–≥–æ–º, —É—Å–ª–æ–≤–∏–µ–º –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π
- `foreach` ‚Äî –∏–¥–µ–∞–ª—å–Ω–æ –¥–ª—è –º–∞—Å—Å–∏–≤–æ–≤
- `break` –∏ `continue` —Ä–∞–±–æ—Ç–∞—é—Ç –≤–æ –≤—Å–µ—Ö —Ç–∏–ø–∞—Ö —Ü–∏–∫–ª–æ–≤

---
# üîÄ –ì–ª–∞–≤–∞ 9. –£—Å–ª–æ–≤–∏—è (if / else) –≤ ALua


## üß† –ó–∞—á–µ–º –Ω—É–∂–Ω—ã —É—Å–ª–æ–≤–∏—è?

–£—Å–ª–æ–≤–∏—è –ø–æ–∑–≤–æ–ª—è—é—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å —Ä–∞–∑–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –ª–æ–≥–∏—á–µ—Å–∫–∏—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π. –≠—Ç–æ –æ—Å–Ω–æ–≤–∞ –ª—é–±–æ–π –ª–æ–≥–∏–∫–∏ –≤ –∫–æ–¥–µ: –æ—Ç –ø—Ä–æ–≤–µ—Ä–æ–∫ –¥–æ –≤–µ—Ç–≤–ª–µ–Ω–∏–π –∏ —Ä–µ—à–µ–Ω–∏–π.

---

## üè∑Ô∏è –°–∏–Ω—Ç–∞–∫—Å–∏—Å if / elseif / else

```alua
if (<—É—Å–ª–æ–≤–∏–µ>) {
    // –±–ª–æ–∫ –µ—Å–ª–∏ –∏—Å—Ç–∏–Ω–∞
} elseif (<–¥—Ä—É–≥–æ–µ —É—Å–ª–æ–≤–∏–µ>) {
    // –µ—Å–ª–∏ –ø–µ—Ä–≤–æ–µ –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª–æ
} else {
    // –µ—Å–ª–∏ –Ω–∏ –æ–¥–Ω–æ –∏–∑ —É—Å–ª–æ–≤–∏–π –Ω–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ
}
```

---

## ‚úÖ –ü—Ä–æ—Å—Ç–æ–π –ø—Ä–∏–º–µ—Ä

```alua
var int: score = 85

if (score >= 90) {
    print("–û—Ç–ª–∏—á–Ω–æ")
} elseif (score >= 70) {
    print("–•–æ—Ä–æ—à–æ")
} else {
    print("–ù—É–∂–Ω–æ –ø–æ–¥—Ç—è–Ω—É—Ç—å")
}
```

---

## üßÆ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã

### üî¢ –°—Ä–∞–≤–Ω–µ–Ω–∏–µ:

- `==` ‚Äî —Ä–∞–≤–Ω–æ
- `!=` ‚Äî –Ω–µ —Ä–∞–≤–Ω–æ
- `<`, `<=`, `>`, `>=` ‚Äî –º–µ–Ω—å—à–µ, –±–æ–ª—å—à–µ

### ‚öôÔ∏è –õ–æ–≥–∏—á–µ—Å–∫–∏–µ:

- `and` ‚Äî –ª–æ–≥–∏—á–µ—Å–∫–æ–µ –ò
- `or` ‚Äî –ª–æ–≥–∏—á–µ—Å–∫–æ–µ –ò–õ–ò
- `not` ‚Äî –æ—Ç—Ä–∏—Ü–∞–Ω–∏–µ

---

## üîÑ –í–ª–æ–∂–µ–Ω–Ω—ã–µ —É—Å–ª–æ–≤–∏—è

```alua
var bool: hungry = true
var bool: hasFood = false

if (hungry) {
    if (hasFood) {
        print("–ï–º")
    } else {
        print("–ì–æ—Ç–æ–≤–ª—é")
    }
} else {
    print("–ù–µ –≥–æ–ª–æ–¥–µ–Ω")
}
```

---

## üõ†Ô∏è –£—Å–ª–æ–≤–∏—è –≤ —Ñ—É–Ω–∫—Ü–∏—è—Ö

```alua
fn string: status(int: health) {
    if (health <= 0) {
        return "dead"
    } elseif (health < 50) {
        return "wounded"
    } else {
        return "healthy"
    }
}
```

---

## ‚ùå –û—à–∏–±–∫–∏

| –û—à–∏–±–∫–∞                         | –ü—Ä–∏—á–∏–Ω–∞                            |
|--------------------------------|------------------------------------|
| `Invalid condition expression` | –£—Å–ª–æ–≤–∏–µ –Ω–µ bool                    |
| `unexpected else`              | `else` –±–µ–∑ `if`                    |
| `missing parentheses`          | –ü—Ä–æ–ø—É—â–µ–Ω—ã —Å–∫–æ–±–∫–∏ –≤–æ–∫—Ä—É–≥ —É—Å–ª–æ–≤–∏—è   |

---

## üß™ –£–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ

```alua
var int: temp = 28

if (temp > 30) {
    print("–°–ª–∏—à–∫–æ–º –∂–∞—Ä–∫–æ")
} elseif (temp < 10) {
    print("–•–æ–ª–æ–¥–Ω–æ")
} else {
    print("–ö–æ–º—Ñ–æ—Ä—Ç–Ω–æ")
}
```

---

## ‚úÖ –í—ã–≤–æ–¥

- –£—Å–ª–æ–≤–∏—è –≤ ALua ‚Äî –≤—ã—Ä–∞–∑–∏—Ç–µ–ª—å–Ω—ã–µ –∏ —Å—Ç—Ä–æ–≥–∏–µ
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è –≤—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –ª–æ–≥–∏—á–µ—Å–∫–∏–µ –∏ —Å—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã
- –í—Å–µ —É—Å–ª–æ–≤–∏—è –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞–∫–ª—é—á–µ–Ω—ã –≤ —Å–∫–æ–±–∫–∏
- `else` –∏ `elseif` ‚Äî –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã, –Ω–æ –ø–æ–ª–µ–∑–Ω—ã

---
# ‚ûï –ì–ª–∞–≤–∞ 10. –û–ø–µ—Ä–∞—Ü–∏–∏ –∏ –≤—ã—Ä–∞–∂–µ–Ω–∏—è

---

## ‚öôÔ∏è –ß—Ç–æ —Ç–∞–∫–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ?

**–í—ã—Ä–∞–∂–µ–Ω–∏–µ** ‚Äî —ç—Ç–æ –∫–æ–º–±–∏–Ω–∞—Ü–∏—è –∑–Ω–∞—á–µ–Ω–∏–π, –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö, –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤ –∏ –≤—ã–∑–æ–≤–æ–≤ —Ñ—É–Ω–∫—Ü–∏–π, –∫–æ—Ç–æ—Ä–∞—è –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –≤ –æ–¥–Ω–æ –∑–Ω–∞—á–µ–Ω–∏–µ.

–ü—Ä–∏–º–µ—Ä—ã –≤—ã—Ä–∞–∂–µ–Ω–∏–π:

```alua
a + b
x * (y - z)
string(a) .. " units"
```

---

## ‚ûï –ê—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã

| –û–ø–µ—Ä–∞—Ç–æ—Ä | –û–ø–∏—Å–∞–Ω–∏–µ             | –ü—Ä–∏–º–µ—Ä           |
|----------|----------------------|------------------|
| `+`      | —Å–ª–æ–∂–µ–Ω–∏–µ              | `3 + 4` ‚Üí `7`     |
| `-`      | –≤—ã—á–∏—Ç–∞–Ω–∏–µ             | `5 - 2` ‚Üí `3`     |
| `*`      | —É–º–Ω–æ–∂–µ–Ω–∏–µ             | `2 * 6` ‚Üí `12`    |
| `/`      | –¥–µ–ª–µ–Ω–∏–µ               | `10 / 2` ‚Üí `5.0`  |
| `%`      | –æ—Å—Ç–∞—Ç–æ–∫ –æ—Ç –¥–µ–ª–µ–Ω–∏—è    | `7 % 3` ‚Üí `1`     |

---

## üîÅ –õ–æ–≥–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã

| –û–ø–µ—Ä–∞—Ç–æ—Ä | –û–ø–∏—Å–∞–Ω–∏–µ       | –ü—Ä–∏–º–µ—Ä                   |
|----------|----------------|--------------------------|
| `and`    | –ª–æ–≥–∏—á–µ—Å–∫–æ–µ –ò   | `a > 0 and b > 0`        |
| `or`     | –ª–æ–≥–∏—á–µ—Å–∫–æ–µ –ò–õ–ò | `x == 0 or y == 0`       |
| `not`    | –æ—Ç—Ä–∏—Ü–∞–Ω–∏–µ      | `not flag`               |

---

## üîé –û–ø–µ—Ä–∞—Ç–æ—Ä—ã —Å—Ä–∞–≤–Ω–µ–Ω–∏—è

| –û–ø–µ—Ä–∞—Ç–æ—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ     |
|----------|--------------|
| `==`     | —Ä–∞–≤–Ω–æ        |
| `!=`     | –Ω–µ —Ä–∞–≤–Ω–æ     |
| `<`      | –º–µ–Ω—å—à–µ       |
| `>`      | –±–æ–ª—å—à–µ       |
| `<=`     | –º–µ–Ω—å—à–µ –∏–ª–∏ —Ä–∞–≤–Ω–æ |
| `>=`     | –±–æ–ª—å—à–µ –∏–ª–∏ —Ä–∞–≤–Ω–æ |

–ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ —É—Å–ª–æ–≤–∏—è—Ö, —Ü–∏–∫–ª–∞—Ö, —Ñ—É–Ω–∫—Ü–∏—è—Ö.

---

## üîó –°—Ç—Ä–æ–∫–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

–ö–æ–Ω–∫–∞—Ç–µ–Ω–∞—Ü–∏—è —Å—Ç—Ä–æ–∫:

```alua
"hello" .. " world"  // ‚Üí "hello world"
```

–ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `string(...)`, —á—Ç–æ–±—ã –ø—Ä–∏–≤–µ—Å—Ç–∏ —á–∏—Å–ª–æ –∏–ª–∏ bool –∫ —Å—Ç—Ä–æ–∫–µ.

---

## üßÆ –°–æ—Å—Ç–∞–≤–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è

```alua
fn bool: shouldAttack(int: hp, bool: isBoss) {
    return (hp < 20) or (isBoss and hp < 100)
}
```

–°–Ω–∞—á–∞–ª–∞ –≤—ã—á–∏—Å–ª—è—é—Ç—Å—è —Å–∫–æ–±–∫–∏, –∑–∞—Ç–µ–º `not`, –∑–∞—Ç–µ–º `and`, –∑–∞—Ç–µ–º `or`.

---

## üß† –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Ç–∏–ø–æ–≤

–Ø–≤–Ω–æ–µ –ø—Ä–∏–≤–µ–¥–µ–Ω–∏–µ:

```alua
string(123)      // ‚Üí "123"
float("3.14")    // ‚Üí 3.14
int("10")        // ‚Üí 10
bool(0)          // ‚Üí true
```

–ï—Å–ª–∏ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ ‚Äî –±—É–¥–µ—Ç –æ—à–∏–±–∫–∞.

---

## üö´ –û—à–∏–±–∫–∏

| –û—à–∏–±–∫–∞                           | –ü—Ä–∏—á–∏–Ω–∞                            |
|----------------------------------|-------------------------------------|
| `attempt to compare string with number` | —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º—ã—Ö —Ç–∏–ø–æ–≤ |
| `cannot convert to int`         | –ø—Ä–∏–≤–µ–¥–µ–Ω–∏–µ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ               |
| `operator .. is undefined`      | –ø–æ–ø—ã—Ç–∫–∞ –∫–æ–Ω–∫–∞—Ç–µ–Ω–∞—Ü–∏–∏ –Ω–µ-—Å—Ç—Ä–æ–∫       |

---

## ‚úÖ –í—ã–≤–æ–¥

- ALua –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –∞—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–∏–µ, –ª–æ–≥–∏—á–µ—Å–∫–∏–µ, —Å—Ç—Ä–æ–∫–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
- –í—Å–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç–∏–ø–∞–º
- –°–∫–æ–±–∫–∏ –ø–æ–º–æ–≥–∞—é—Ç –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å –ø–æ—Ä—è–¥–æ–∫ –¥–µ–π—Å—Ç–≤–∏–π
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è —Å—Ç—Ä–æ–≥–æ–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Ç–∏–ø–æ–≤

---
# üß™ –ì–ª–∞–≤–∞ 11. –°–µ–º–∞–Ω—Ç–∏–∫–∞ –∏ —Ä–∞–Ω—Ç–∞–π–º ALua

---

## üß† –ß—Ç–æ —Ç–∞–∫–æ–µ —Å–µ–º–∞–Ω—Ç–∏–∫–∞?

–í ALua —Å–µ–º–∞–Ω—Ç–∏–∫–∞ ‚Äî —ç—Ç–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–µ—Ç–∞–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫–∞–∂–¥–æ–º –æ–±—ä—è–≤–ª–µ–Ω–Ω–æ–º —ç–ª–µ–º–µ–Ω—Ç–µ:

- –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
- —Ñ—É–Ω–∫—Ü–∏–π
- –∫–ª–∞—Å—Å–æ–≤, —Å—Ç—Ä—É–∫—Ç—É—Ä –∏ –∏—Ö –ø–æ–ª–µ–π
- –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤
- –ø—Ä–æ–≤–µ—Ä–æ–∫ —Ç–∏–ø–æ–≤ –∏ –¥–æ—Å—Ç—É–ø–∞

–í—Å—ë —ç—Ç–æ —Å–æ–¥–µ—Ä–∂–∏—Ç—Å—è –≤ –≥–ª–æ–±–∞–ª—å–Ω–æ–π —Ç–∞–±–ª–∏—Ü–µ `__semantics`.

---

## üì¶ –ß—Ç–æ —Ö—Ä–∞–Ω–∏—Ç __semantics?

| –ö–ª—é—á                           | –ü—Ä–∏–º–µ—Ä –∑–Ω–∞—á–µ–Ω–∏—è                                     |
|--------------------------------|-----------------------------------------------------|
| `__semantics["x"]`            | `{ kind = "var", type = "int" }`                   |
| `__semantics["sum"]`          | `{ kind = "function", args = [...], returnType = ...}` |
| `__semantics["Vec2"]`         | `{ kind = "class", fields = { ... }, methods = { ... }}` |
| `__semantics[obj]`            | `"Vec2"` (–µ—Å–ª–∏ obj ‚Äî —ç–∫–∑–µ–º–ø–ª—è—Ä —ç—Ç–æ–≥–æ –∫–ª–∞—Å—Å–∞)         |

---

## ‚úÖ –ü—Ä–∏–º–µ—Ä: –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è

```alua
var int: count = 10
```

–°–æ–∑–¥–∞—ë—Ç:

```lua
__semantics["count"] = { kind = "var", type = "int", access = "public" }
```

---

## ‚úÖ –ü—Ä–∏–º–µ—Ä: —Ñ—É–Ω–∫—Ü–∏—è

```alua
fn int: add(int: a, int: b) {
    return a + b
}
```

‚Üí —Å–æ–∑–¥–∞—ë—Ç:

```lua
__semantics["add"] = {
  kind = "function",
  returnType = "int",
  args = {
    { name = "a", type = "int" },
    { name = "b", type = "int" }
  },
  access = "public"
}
```

---

## üì° –í—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏: checkArgs

```lua
checkArgs(__semantics["add"], { 1, 2 })
```

- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç–∏–ø–æ–≤
- –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –ø–æ–Ω—è—Ç–Ω—É—é –æ—à–∏–±–∫—É –ø—Ä–∏ –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏

---

## üîê –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–∞: checkAccess

–í—Å–µ –ø–æ–ª—è –∏ –º–µ—Ç–æ–¥—ã –º–æ–≥—É—Ç –∏–º–µ—Ç—å —É—Ä–æ–≤–µ–Ω—å –¥–æ—Å—Ç—É–ø–∞:

- `"public"` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- `"private"`
- `"protected"`

–ï—Å–ª–∏ –º–µ—Ç–æ–¥/–ø–æ–ª–µ –ø—Ä–∏–≤–∞—Ç–Ω–æ–µ:

```lua
checkAccess(self, "fieldName", "public")  -- –≤—ã–∑–æ–≤–µ—Ç –æ—à–∏–±–∫—É
```

---

## üß¨ –¢–∏–ø–∏–∑–∞—Ü–∏—è –æ–±—ä–µ–∫—Ç–æ–≤: isOfType

```lua
isOfType(obj, "Vec2")  -- –≤–µ—Ä–Ω—ë—Ç true, –µ—Å–ª–∏ obj ‚Äî –æ–±—ä–µ–∫—Ç Vec2
```

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–æ –≤—Å–µ—Ö –ø—Ä–æ–≤–µ—Ä–∫–∞—Ö –ø—Ä–∏–≤–µ–¥–µ–Ω–∏—è —Ç–∏–ø–∞ –∏–ª–∏ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–Ω–æ—Å—Ç–∏ –æ–±—ä–µ–∫—Ç–∞.

---

## üèóÔ∏è –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã: .new(init)

–ü—Ä–∏ –≤—ã–∑–æ–≤–µ:

```alua
Vec2 { x = 1.0, y = 2.0 }
```

ALua —Å–æ–∑–¥–∞—ë—Ç:

```lua
Vec2.new({ x = 1.0, y = 2.0 })
```

–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä `new(init)`:

1. —Å–æ–∑–¥–∞—ë—Ç `self`;
2. –∫–æ–ø–∏—Ä—É–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ `init` –≤ `self`;
3. –ø–æ–¥–∫–ª—é—á–∞–µ—Ç –º–µ—Ç–æ–¥—ã;
4. –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç `__semantics[self] = "Vec2"`.

---

## üîÑ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ä–∞–Ω—Ç–∞–π–º–∞

ALua –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç —Ä–∞–Ω—Ç–∞–π–º-—Ñ—É–Ω–∫—Ü–∏–∏:

- `defineVar(...)`
- `defineFunction(...)`
- `checkArgs(...)`
- `checkAccess(...)`
- `isOfType(...)`
- `whileDo(...)`, `forLoop(...)`, `foreachDo(...)`

–≠—Ç–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç —Å–æ–±–ª—é–¥–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª —Ç–∏–ø–∏–∑–∞—Ü–∏–∏, –¥–æ—Å—Ç—É–ø–∞, –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –∏ —Ç–∏–ø–æ–≤ –≤–æ –≤—Ä–µ–º—è –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è.

---

## üß™ –ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã

```alua
fn bool: isPositive(int: x) {
    return x > 0
}

var bool: ok = isPositive(-3)  // ‚Üí false
```

–ù–∞ —ç—Ç–∞–ø–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—ã–∑–æ–≤ –ø—Ä–æ—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ `checkArgs`, –∏ –µ—Å–ª–∏ –≤—Å—ë –≤–∞–ª–∏–¥–Ω–æ ‚Äî –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Ç–µ–ª–æ —Ñ—É–Ω–∫—Ü–∏–∏.

---

## ‚úÖ –í—ã–≤–æ–¥

- –í—Å—è —Å–µ–º–∞–Ω—Ç–∏–∫–∞ ALua —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –≤ `__semantics`
- –õ—é–±–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è, —Ñ—É–Ω–∫—Ü–∏—è, –∫–ª–∞—Å—Å ‚Äî –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è —Ç—É–¥–∞
- –ü—Ä–æ–≤–µ—Ä–∫–∏ —Ç–∏–ø–æ–≤ –∏ –¥–æ—Å—Ç—É–ø–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥—è—Ç —á–µ—Ä–µ–∑ `checkArgs`, `checkAccess`, `isOfType`
- ALua —Å–æ–∑–¥–∞—ë—Ç —Å—Ç—Ä–æ–≥–∏–π –∏ –±–µ–∑–æ–ø–∞—Å–Ω—ã–π —Å–ª–æ–π –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è –ø–æ–≤–µ—Ä—Ö Lua

---
# üìã –ì–ª–∞–≤–∞ 12. –ü—Ä–∏–º–µ—Ä—ã –æ—Ç –ø—Ä–æ—Å—Ç–æ–≥–æ –∫ —Å–ª–æ–∂–Ω–æ–º—É

---

## üü¢ –ü—Ä–∏–º–µ—Ä 1: –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –∏ —Ñ—É–Ω–∫—Ü–∏—è

```alua
var int: a = 5
var int: b = 3

fn int: sum(int: x, int: y) {
    return x + y
}

var int: result = sum(a, b)
print(result)  // ‚Üí 8
```

---

## üîµ –ü—Ä–∏–º–µ—Ä 2: —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ –º–∞—Å—Å–∏–≤

```alua
struct Point {
    var int: x = 0
    var int: y = 0
}

var [Point]: points = [
    Point { x = 1, y = 2 },
    Point { x = 3, y = 4 }
]

foreach points as Point: p {
    print("(", p.x, ",", p.y, ")")
}
```

---

## üü£ –ü—Ä–∏–º–µ—Ä 3: –∫–ª–∞—Å—Å —Å –º–µ—Ç–æ–¥–æ–º

```alua
class Counter {
    var int: value = 0

    fn void: increment() {
        self.value = self.value + 1
    }

    fn int: get() {
        return self.value
    }
}

var Counter: c = Counter {}
c:increment()
c:increment()
print(c:get())  // ‚Üí 2
```

---

## üî∂ –ü—Ä–∏–º–µ—Ä 4: –≤–ª–æ–∂–µ–Ω–Ω—ã–µ —Ç–∏–ø—ã –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞

```alua
struct Stats {
    var int: hp = 100
    var int: mp = 50
}

class Entity {
    var string: name = ""
    var Stats: stats = Stats {}

    fn void: damage(int: amount) {
        self.stats.hp = self.stats.hp - amount
    }

    fn string: status() {
        return self.name .. " HP: " .. string(self.stats.hp)
    }
}

var Entity: e = Entity {
    name = "Orc",
    stats = Stats { hp = 80, mp = 20 }
}

e:damage(10)
print(e:status())  // ‚Üí Orc HP: 70
```

---

## üß© –ü—Ä–∏–º–µ—Ä 5: —É—Å–ª–æ–≤–∏–µ –∏ –ª–æ–≥–∏–∫–∞

```alua
fn string: grade(int: score) {
    if (score >= 90) {
        return "A"
    } elseif (score >= 75) {
        return "B"
    } elseif (score >= 60) {
        return "C"
    } else {
        return "F"
    }
}

print("–û—Ü–µ–Ω–∫–∞:", grade(82))  // ‚Üí B
```

---

## üåÄ –ü—Ä–∏–º–µ—Ä 6: –≤–ª–æ–∂–µ–Ω–Ω—ã–µ —Ü–∏–∫–ª—ã

```alua
for (var int: i = 0, i < 3, i = i + 1) {
    for (var int: j = 0, j < 2, j = j + 1) {
        print("i =", i, ", j =", j)
    }
}
```

---

## üß™ –ü—Ä–∏–º–µ—Ä 7: –∫–ª–∞—Å—Å + —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ + –º–∞—Å—Å–∏–≤

```alua
struct Vec2 {
    var float: x = 0.0
    var float: y = 0.0
}

class Enemy {
    var string: name = ""
    var Vec2: pos = Vec2 {}

    fn void: move(float: dx, float: dy) {
        self.pos.x = self.pos.x + dx
        self.pos.y = self.pos.y + dy
    }
}

var [Enemy]: enemies = [
    Enemy { name = "Goblin", pos = Vec2 { x = 0.0, y = 0.0 } },
    Enemy { name = "Orc", pos = Vec2 { x = 1.0, y = 1.0 } }
]

foreach enemies as Enemy: e {
    e:move(1.0, 0.0)
    print(e.name, "at", e.pos.x, e.pos.y)
}
```

---

## ‚úÖ –í—ã–≤–æ–¥

- –í—Å–µ —ç—Ç–∏ –ø—Ä–∏–º–µ—Ä—ã –∫–æ–º–ø–∏–ª–∏—Ä—É—é—Ç—Å—è –∏ —Ä–∞–±–æ—Ç–∞—é—Ç –≤ ALua
- –û–Ω–∏ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É—é—Ç: –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, —Å—Ç—Ä—É–∫—Ç—É—Ä—ã, –∫–ª–∞—Å—Å—ã, –º–µ—Ç–æ–¥—ã, –º–∞—Å—Å–∏–≤—ã, —Ñ—É–Ω–∫—Ü–∏–∏, —É—Å–ª–æ–≤–∏—è –∏ —Ü–∏–∫–ª—ã
- –û—Ç–ª–∏—á–Ω–∞—è –±–∞–∑–∞ –¥–ª—è —Ç–≤–æ–∏—Ö —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö –º–æ–¥—É–ª–µ–π –∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π

---
# üõ†Ô∏è –ì–ª–∞–≤–∞ 13. –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏ –∏ –∫–∞–∫ –∏—Ö —Ä–µ—à–∞—Ç—å

---

## üß™ –û—à–∏–±–∫–∏ —Ç–∏–ø–æ–≤

| –û—à–∏–±–∫–∞                                      | –ü—Ä–∏—á–∏–Ω–∞                                          |
|--------------------------------------------|--------------------------------------------------|
| `Expected type 'int', got 'string'`        | –ó–Ω–∞—á–µ–Ω–∏–µ –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –æ–±—ä—è–≤–ª–µ–Ω–Ω–æ–º—É —Ç–∏–ø—É     |
| `Expected [int], got table of mixed types` | –ú–∞—Å—Å–∏–≤ —Å–æ–¥–µ—Ä–∂–∏—Ç —ç–ª–µ–º–µ–Ω—Ç—ã —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤           |
| `cannot convert to float: "abc"`           | –û—à–∏–±–∫–∞ –ø—Ä–∏ –ø—Ä–∏–≤–µ–¥–µ–Ω–∏–∏ —Å—Ç—Ä–æ–∫–∏ –∫ —á–∏—Å–ª—É            |

### üîß –ß—Ç–æ –¥–µ–ª–∞—Ç—å

- –ü—Ä–æ–≤–µ—Ä—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç–∏–ø–æ–≤: `"string"` –Ω–µ–ª—å–∑—è –ø—Ä–∏—Å–≤–æ–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π —Ç–∏–ø–∞ `int`
- –ò—Å–ø–æ–ª—å–∑—É–π `int(...)` –∏ `float(...)` —Ç–æ–ª—å–∫–æ —Å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏

---

## üì¶ –û—à–∏–±–∫–∏ –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏

| –û—à–∏–±–∫–∞                                      | –ü—Ä–∏—á–∏–Ω–∞                                          |
|--------------------------------------------|--------------------------------------------------|
| `field not declared`                       | –£–∫–∞–∑–∞–Ω–æ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–µ –ø–æ–ª–µ –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ       |
| `unknown field 'z' in constructor of ...`  | –í –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ —É–∫–∞–∑–∞–Ω –ª–∏—à–Ω–∏–π –∫–ª—é—á                |

### üîß –ß—Ç–æ –¥–µ–ª–∞—Ç—å

- –£–±–µ–¥–∏—Å—å, —á—Ç–æ –ø–æ–ª—è —Ç–æ—á–Ω–æ –æ–±—ä—è–≤–ª–µ–Ω—ã –≤ `struct` –∏–ª–∏ `class`
- –ù–µ –ø–µ—Ä–µ–¥–∞–≤–∞–π –≤ `Vec2 { ... }` –ø–æ–ª—è, –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ—Ç –≤ –∫–ª–∞—Å—Å–µ

---

## üìö –û—à–∏–±–∫–∏ –≤ —Ñ—É–Ω–∫—Ü–∏—è—Ö

| –û—à–∏–±–∫–∞                                | –ü—Ä–∏—á–∏–Ω–∞                               |
|--------------------------------------|----------------------------------------|
| `Expected 2 arguments, got 1`        | –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –ø—Ä–∏ –≤—ã–∑–æ–≤–µ    |
| `Expected type 'bool', got 'int'`   | –ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç–∏–ø–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–∞         |
| `Missing return statement`           | –ù–µ—Ç `return` –≤ —Ñ—É–Ω–∫—Ü–∏–∏, –≤–æ–∑–≤—Ä–∞—â–∞—é—â–µ–π –∑–Ω–∞—á–µ–Ω–∏–µ |

### üîß –ß—Ç–æ –¥–µ–ª–∞—Ç—å

- –ü—Ä–æ–≤–µ—Ä—è–π —Å–∏–≥–Ω–∞—Ç—É—Ä—É —Ñ—É–Ω–∫—Ü–∏–∏
- –£–¥–æ—Å—Ç–æ–≤–µ—Ä—å—Å—è, —á—Ç–æ `return` –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ —Ñ—É–Ω–∫—Ü–∏—è—Ö –±–µ–∑ `void`

---

## üåÄ –û—à–∏–±–∫–∏ —Ü–∏–∫–ª–æ–≤

| –û—à–∏–±–∫–∞                   | –ü—Ä–∏—á–∏–Ω–∞                                |
|--------------------------|-----------------------------------------|
| `break outside of loop` | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `break` –≤–Ω–µ —Ü–∏–∫–ª–∞         |
| `continue outside loop` | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `continue` –≤–Ω–µ —Ü–∏–∫–ª–∞      |

### üîß –ß—Ç–æ –¥–µ–ª–∞—Ç—å

- –ò—Å–ø–æ–ª—å–∑—É–π `break` –∏ `continue` **—Ç–æ–ª—å–∫–æ –≤–Ω—É—Ç—Ä–∏** `for`, `while`, `foreach`

---

## üîê –û—à–∏–±–∫–∏ –¥–æ—Å—Ç—É–ø–∞

| –û—à–∏–±–∫–∞                          | –ü—Ä–∏—á–∏–Ω–∞                             |
|---------------------------------|--------------------------------------|
| `Access violation: 'name' is private` | –ü–æ–ø—ã—Ç–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–∏–≤–∞—Ç–Ω–æ–µ –ø–æ–ª–µ |

### üîß –ß—Ç–æ –¥–µ–ª–∞—Ç—å

- –ò—Å–ø–æ–ª—å–∑—É–π –ø—É–±–ª–∏—á–Ω—ã–π –¥–æ—Å—Ç—É–ø (`public`) –∏–ª–∏ –≤—ã–∑—ã–≤–∞–π –º–µ—Ç–æ–¥—ã –∫–ª–∞—Å—Å–∞
- –ù–µ –æ–±—Ä–∞—â–∞–π—Å—è –Ω–∞–ø—Ä—è–º—É—é –∫ –ø–æ–ª—é, –µ—Å–ª–∏ –æ–Ω–æ –∑–∞–∫—Ä—ã—Ç–æ

---

## üìõ –°–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏

| –û—à–∏–±–∫–∞                     | –ü—Ä–∏—á–∏–Ω–∞                                   |
|----------------------------|--------------------------------------------|
| `unexpected 'else'`        | `else` –±–µ–∑ `if`, –∏–ª–∏ –≤–Ω–µ –±–ª–æ–∫–∞ —É—Å–ª–æ–≤–∏–π    |
| `unknown statement`        | –ü–∞—Ä—Å–µ—Ä –Ω–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–ª –≤—ã—Ä–∞–∂–µ–Ω–∏–µ             |
| `missing ')'`              | –ü—Ä–æ–ø—É—â–µ–Ω–∞ –∑–∞–∫—Ä—ã–≤–∞—é—â–∞—è —Å–∫–æ–±–∫–∞              |
| `O–∂–∏–¥–∞–ª–∞—Å—å –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è`     | –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∫–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ `var` –≤ –±–ª–æ–∫–µ  |

---

## üß≠ –ö–∞–∫ –Ω–∞—Ö–æ–¥–∏—Ç—å –æ—à–∏–±–∫–∏

1. **–ß–∏—Ç–∞–π —Å–æ–æ–±—â–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ** ‚Äî –æ–Ω–æ —Ç–æ—á–Ω–æ —É–∫–∞–∂–µ—Ç, –∫–∞–∫–æ–π —Ç–∏–ø –æ–∂–∏–¥–∞–ª—Å—è –∏ —á—Ç–æ –Ω–µ —Ç–∞–∫.
2. **–ü—Ä–æ–≤–µ—Ä—è–π —Ç–∏–ø—ã** –≤ –∫–∞–∂–¥–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π, —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –∞—Ä–≥—É–º–µ–Ω—Ç–µ.
3. **–ò—Å–ø–æ–ª—å–∑—É–π –≤—ã–≤–æ–¥ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞** –∏ —Å—Ç—Ä–æ–∫—É —Å –Ω–æ–º–µ—Ä–æ–º ‚Äî –æ–Ω –ø–æ–∫–∞–∂–µ—Ç, –≥–¥–µ –∏—Å–∫–∞—Ç—å.
4. **–ú–∏–Ω–∏–º–∏–∑–∏—Ä—É–π** –∫–æ–¥: –æ—Å—Ç–∞–≤—å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∫—É—Å–æ–∫, –≥–¥–µ –æ—à–∏–±–∫–∞ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è.
5. **–°—Ä–∞–≤–Ω–∏ —Å —Ä–∞–±–æ—á–∏–º–∏ –ø—Ä–∏–º–µ—Ä–∞–º–∏** –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–π –≥–ª–∞–≤—ã.

---

## ‚úÖ –í—ã–≤–æ–¥

- –û—à–∏–±–∫–∏ ‚Äî —ç—Ç–æ —á–∞—Å—Ç—å –Ω–æ—Ä–º–∞–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã
- ALua –¥–∞—ë—Ç –ø–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∏ —É–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–æ—á–Ω–æ–µ –º–µ—Å—Ç–æ
- –ß–µ–º —Å—Ç—Ä–æ–∂–µ —Ç—ã —Å–æ–±–ª—é–¥–∞–µ—à—å —Ç–∏–ø—ã –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—É ‚Äî —Ç–µ–º —Å—Ç–∞–±–∏–ª—å–Ω–µ–µ –∫–æ–¥
- –õ—É—á—à–µ 1 –æ—à–∏–±–∫–∞ –Ω–∞ —ç—Ç–∞–ø–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏, —á–µ–º 10 –≤–æ –≤—Ä–µ–º—è –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è

---
